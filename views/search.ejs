<%- include('./partials/header.ejs') %>
  <div class="col-10 pt-4">
      <a href="/members/new"><h5 style="text-align:right;">Add a New Member</h5></a>
<div class="mt-5" id="searchbar">
    <form action="" method="POST">
<input type="search" id="search" name="search" class="form-control" placeholder="Search" aria-label="search">
  </form>
  <table>
</div>
<% for(let i = 0; i < members.length; i++){%>
  <tr>
<td width>
  <a href="/members/<%=members[i].id%>"> <img src="<%=members[i].img%>" width="150px"></a>
</td>
<td>
  <a href="/members/<%=members[i].id%>"><h4><%= members[i].name %></h4></a>
  <h6><%= members[i].title %></h6>
  <h6><i class="bi bi-geo-alt-fill"></i><%= members[i].location %></h6>
    <% const goldMember = members[i] %>
    <% for(let j = 0; j < goldMember.tags.length; j++){%>
      <span class="badge bg-dark"><%= goldMember.tags[j] %></span>
    <%}%>
</td>
<td>
  <h6>Accomplishments</h6>
  <ul>
    <% for(let k =0; k < goldMember.accomplishments.length; k++){%>
    <li class="ast"><%= goldMember.accomplishments[k] %></li>
  <%}%>
  </ul>
</td>
</tr>

<%}%>
</table>

<div class="d-flex justify-content-center mt-5">
<nav aria-label="...">
<% if (pages > 0) { %>
                <ul class="pagination">
                    <% if (current == 1) { %>
                        <li class="page-item disabled"><a class="page-link">First</a></li>
                    <% } else { %>
                        <li class="page-item"><a class="page-link" href="/members/search">First</a></li>
                    <% } %>
                    <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                    <% if (i !== 1) { %>
                        <li class="page-item disabled"><a class="page-link">...</a></li>
                    <% } %>
                    <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                        <% if (i == current) { %>
                            <li class="page-item active"><a class="page-link"><%= i %></a></li>
                        <% } else { %>
                            <li class="page-item"><a class="page-link" href="/members/search/<%= i %>"><%= i %></a></li>
                        <% } %>
                        <% if (i == Number(current) + 4 && i < pages) { %>
                            <li class="page-item disabled"><a class="page-link">...</a></li>
                        <% } %>
                    <% } %>
                    <% if (current == pages) { %>
                        <li class="page-item disabled"><a class="page-link">Last</a></li>
                    <% } else { %>
                        <li class="page-item"><a class="page-link" href="/members/search/<%= pages %>">Last</a></li>
                    <% } %>
                </ul>
            <% } %>

          </nav>

</div>
</div>
</div>
</div>

<%- include('./partials/footer.ejs') %>
